input {
	gelf {
		port => 12201
	}
}

filter {
	mutate {
		add_field => { "container_name" => "%{docker.container_name}" }
	}
	# Optional: parse timestamp thành định dạng chuẩn
	date {
		match => ["timestamp", "dd/MMM/yyyy:HH:mm:ss Z"]
		target => "@timestamp"
		remove_field => ["timestamp"]
	}
}


output {
	elasticsearch {
		hosts => ["http://elasticsearch:9200"]
		index => "docker-logs-%{+YYYY.MM.dd}"
	}
	stdout { codec => rubydebug }
}
